---
layout: post 
comments: true
title: "New in PostSharp 5.0 Preview â€“ Support for .NET Core 1.0"
date: 2016-10-27 09:00:00 +02:00
categories: [Announcement]
permalink: /post/new-in-postsharp-50-preview-support-for-net-core-10.html
---
<p>We&rsquo;re excited to announce the first public preview of PostSharp 5.0, available for download from our website and from NuGet Gallery (make sure to enable pre-releases). Starting from today, we&rsquo;re going to update the preview every third week.</p>
<p>In this blog post, I would like to focus on the most demanded feature that is already present in the current preview: Support for .NET Core 1.0 (CLI).</p>
<p>After so many unsuccessful platforms pushed by Microsoft during the last years (I&rsquo;m thinking of you, Windows Phone), it&rsquo;s good to see real customer demand for .NET Core. Some corporate customers already see .NET Core as a successor to Java, captured in the hands of the evil Oracle. We&rsquo;re excited to see some real enthusiasm (not just marketing-driven hype) for the initiative.</p>
<h1>TL;DR</h1>
<p>PostSharp 5.0 has partial and unfinished support for .NET Core 1.0.</p>
<p><strong>To add PostSharp to your .NET Core projects, follow the procedure described in </strong><a href="http://support.sharpcrafters.com/kb/postsharp-50-preview/postsharp-5010-preview-with-net-core"><strong>this KB article</strong></a><strong>.</strong></p>
<h2>Limitations</h2>
<p>However it&rsquo;s a real challenge for us to support this platform, so we have split the effort into several phases. Our objective with PostSharp 5.0 is to <strong>build on Windows, run everywhere</strong>. Today, we&rsquo;re releasing the first bits. However, the work is still in progress, and you will see more features appear in the next previews.</p>
<p>The following NuGet packages have already been ported to .NET Core 1.0:</p>
<ul>
<li>PostSharp</li>
<li>PostSharp.Patterns.Common</li>
<li>PostSharp.Patterns.Diagnostics</li>
<li>PostSharp.Patterns.Diagnostics.Console</li>
<li>PostSharp.Patterns.Diagnostics.AspNetCoreLogging</li>
</ul>
<p>A few notes and disclaimers: it is not clear yet whether PostSharp 5.0 RTM will support .NET Core 1.0 or .NET Core 1.1 with <a href="https://blogs.msdn.microsoft.com/dotnet/2016/10/19/net-core-tooling-in-visual-studio-15/">its new build system based on MSBuild and CSProj</a>. We will take the decision once the roadmap of .NET Core 1.1 will be clearer. Keep in mind that we may drop support for .NET Core 1.0 before PostSharp 5.0 reaches RTM.</p>
<p>Note that we&rsquo;re prioritizing our work according to the needs of our commercial customers. If you&rsquo;re a commercial customer and interested in .NET Core, please reach out to our technical support and express your priorities.</p>
<h2>Splitting of Tools and Redistributable Packages</h2>
<p>More and more customers are using NuGet as an internal vehicle to distribute binaries across different development teams. They use an internal repository, to which the continuous integration system automatically uploads successful builds. Many of these customers have requested a way to express a run-time dependency on PostSharp without necessarily including PostSharp in the build process. You may have of course the same requirements if you want to upload to the public NuGet Gallery a package built with PostSharp, but which can be referenced without requiring the referencing project to be enhanced by PostSharp.</p>
<p>For this scenarios, it became necessary to split all packages into a run-time part and a build-time part. Furthermore, .NET Core requires build-time tools and run-time dependencies to be packaged separately.</p>
<p>Therefore, we decided to split all packages into two parts: one package with the run-time assets, and another package with the build-time assets.</p>
<p>Although the most popular convention seems to be for the build-time package to have the <em>BuildTools</em> suffix, we decided otherwise in order to maintain backward compatibility. We will be following another popular convention, where the build-time package will be unsuffixed, and the run-time package will have the <em>Redist</em> suffix. (Note that the current preview has the <em>Redistributable</em> suffix. This will be changed in the next preview.)</p>
<p>We&rsquo;ve already split the <em>PostSharp </em>package in two parts. In the next previews, we will continue and split all relevant packages.</p>
<h1>Summary</h1>
<p>We&rsquo;ve done good progress in supporting .NET Core 1.0 and will do more during the next weeks. Feedback? Questions? Don&rsquo;t hesitate to share them as comments to this blog post.</p>
<p>Happy PostSharping!</p>
<p>-gael</p>
