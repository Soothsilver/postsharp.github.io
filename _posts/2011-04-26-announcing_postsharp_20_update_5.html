---
layout: post
title: "Announcing PostSharp 2.0 Update 5"
date: 2011-04-26 09:33:39 +02:00
categories: []
permalink: /post/announcing-postsharp-20-update-5.html
author: "Gael Fraiteur"
---
<p>We just published the fifth maintenance release of PostSharp 2.0, correcting 29 bugs, mostly minor. The most significant improvement of this update is a solution to the number-one problem of PostSharp 2.0: its failure to load dependencies to C++ assemblies. The reason of the problem is that the CLR cannot load C++ assemblies when it is “hosted” (PostSharp hosts the CLR as SQL Server does). The solution proposed in this release is to load such assemblies for metadata only, i.e. do not load it with the CLR. This should be enough most of the time.</p>  <p>Even if you had no problem with previous versions of PostSharp, you may want to update to this version because it addresses an important run-time performance defect with OnExceptionAspect: the binding code was erroneously generated out of the catch block, so it was executed even when the aspect was not invoked. This issue is now solved.</p>  <p>This release is therefore a recommended upgrade for anyone.</p>  <p>Here’s the complete list of fixed issues:</p>  <ul>   <li>Add possibility to specify the location of ILASM</li>    <li>Added support for Aspect.AspectPriority in Silverlight</li>    <li>AnnotationValue.FromObjectConstruction does not respect module translation</li>    <li>AnnovationValue.ToObjectConstruction does handle constructor arguments properly</li>    <li>Aspect MethodImplementationAspect missing from Silverlight build</li>    <li>Aspects inherited across assemblies are not visible in the Visual Studio Extension</li>    <li>AspectTypeDependencyAttribute does not work on Silverlight</li>    <li>Assemblies loaded by the native host may be given insufficient permissions</li>    <li>Assembly-level MulticastAttribute does not respect AttributeTargets=Struct/Delegate/Enum/...</li>    <li>AssemblyLoadException when loading mixed-mode assemblies, even when not required by PostSharp</li>    <li>Comparing method signatures ignores the method arity</li>    <li>Exception thrown on invalid lexical scopes</li>    <li>Expose the method Platform.LoadAssemblyFromFile to PostSharp.dll</li>    <li>Extension for VS2010 installed in wrong directory if VS is installed in non-default location</li>    <li>Generic parameter constraints are not loaded properly when lazy loading is enabled</li>    <li>Incorrect behavior when an IAspectProvider provides an invalid ObjectConstruction</li>    <li>Invalid code generation when IInstanceScopedAspect has explicit (private) implementation</li>    <li>IValidableAnnotation not executed if no aspect is included in the project</li>    <li>MulticastAttribute: symbols &lt; and &gt; in regular expressions are incorrectly escaped</li>    <li>NullReferenceException when introducing a method with custom attributes on parameters</li>    <li>OnExceptionAspect generates suboptimal code</li>    <li>PostSharp 2.0 is not side-by-side compatible with PostSharp 2.1 when a project references both versions</li>    <li>PostSharp emits PE32+ headers instead of PE32.</li>    <li>PostSharp.Aspects.Arguments implements IList</li>    <li>Sample database not included with the ContactManager example</li>    <li>Several issues with ExternalAspects in Silverlight</li>    <li>System.InvalidCastException: Unable to cast object of type PostSharp.Hosting.DotNet.ManagedDotNet40Platform' to type 'PostSharp.Hosting.NativeDotNetPlatform'.</li>    <li>Update check process throws exception on build servers</li>    <li>With MSIL serialization, system properties of MulticastAttributes are serialized, but should not</li> </ul>  <p>Next milestone: PostSharp 2.1 CTP 2.</p>  <p>Happy PostSharping!</p>  <p>-gael</p>
